<!-- Based on: https://api.jquery.com/jquery.parsehtml/ -->
<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>jQuery.parseHTML demo</title>
    <script src="./jquery/dist/jquery.min.js"></script>
    <!-- When trying this out with older jquery the "parseHTML" will return [] since the "str" is not string -->
    <!-- <script src="https://code.jquery.com/jquery-3.5.0.js"></script> -->
    <meta http-equiv='Content-Security-Policy' content="require-trusted-types-for 'script'; trusted-types app;">
  </head>

  <body>

    <div id="log">
      <h3>Content:</h3>
    </div>

    <script>
      var policy = trustedTypes.createPolicy('app', { createHTML: (s) => s })

      var $log = $("#log"),
        // If this value doesn't start with < and end with > the parseHTML will return []
        str = policy.createHTML("<div>html</div>"),
        html = $.parseHTML(str),
        nodeNames = [];

      // Append the parsed HTML
      $log.append(html);

      // The following contains TT violations
      // // Gather the parsed HTML's node names
      // $.each(html, function (i, el) {
      //   nodeNames[i] = "<li>" + el.nodeName + "</li>";
      // });

      // // Insert the node names
      // $log.append("<h3>Node Names:</h3>");
      // $("<ol></ol>")
      //   .append(nodeNames.join(""))
      //   .appendTo($log);
    </script>

  </body>

</html>
